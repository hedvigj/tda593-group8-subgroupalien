-- BP 7.1 content: ModelClass syschar: 3 persistence-version: 7.1.5

INSERT INTO O_OBJ
	VALUES ("f2b8219f-1ef9-46db-986d-795339200bf5",
	'Lock',
	11,
	'Lock',
	'',
	"f56566de-5321-4b5f-b659-95d5c01e1baa");
INSERT INTO O_TFR
	VALUES ("e8d383e0-4c7e-44b4-af26-db730e1380b1",
	"f2b8219f-1ef9-46db-986d-795339200bf5",
	'Lock',
	'',
	"28114c36-aaba-4a92-b7c3-08f06e41c6a4",
	1,
	'select any lm from instances of LockManager;
if (empty lm)
	create object instance lm of LockManager;
	return false;
end if;
 
select any tempLock related by lm->TempLock[R46] where 
	selected.id == param.tempLockId;

if(not_empty tempLock)
	select many rcats related by tempLock->RoomConfigurationAmountTuple[R44];
	
	for each rcat in rcats
		create object instance newrcat of RoomConfigurationAmountTuple;
		
		select one rc related by rcat->RoomConfiguration[R28];
		
		relate newrcat to self across R24;
		relate newrcat to rc across R28;
		
		newrcat.amount = rcat.amount;
	end for;

	self.timespan = param.timespan; 

	self.id = lm.getUniqueLockId();
	
	// Start timeout timer
	assign countdownTime = 900000000; // 15 min
	generate Lock1:setCountdown(microseconds: countdownTime) to self;

	return true;
end if;

return false;
',
	1,
	'',
	"00000000-0000-0000-0000-000000000000");
INSERT INTO O_TPARM
	VALUES ("969c6c32-c182-4254-b770-929e9536f136",
	"e8d383e0-4c7e-44b4-af26-db730e1380b1",
	'tempLockId',
	"5f77c811-d46b-4197-a574-4b3505e92410",
	0,
	'',
	"00000000-0000-0000-0000-000000000000",
	'');
INSERT INTO S_DT_PROXY
	VALUES ("5f77c811-d46b-4197-a574-4b3505e92410",
	"00000000-0000-0000-0000-000000000000",
	'integer',
	'',
	'',
	'../../../../Datatypes/Datatypes.xtuml');
INSERT INTO O_TPARM
	VALUES ("9d8ad043-c542-46e4-9066-1d2cd328a796",
	"e8d383e0-4c7e-44b4-af26-db730e1380b1",
	'timespan',
	"29455544-5da7-4d59-89a1-9d1261bd2be6",
	0,
	'',
	"969c6c32-c182-4254-b770-929e9536f136",
	'');
INSERT INTO S_DT_PROXY
	VALUES ("29455544-5da7-4d59-89a1-9d1261bd2be6",
	"00000000-0000-0000-0000-000000000000",
	'TimeSpan',
	'',
	'',
	'../../../../BackendDatatypes/BackendDatatypes.xtuml');
INSERT INTO S_DT_PROXY
	VALUES ("28114c36-aaba-4a92-b7c3-08f06e41c6a4",
	"00000000-0000-0000-0000-000000000000",
	'boolean',
	'',
	'',
	'../../../../Datatypes/Datatypes.xtuml');
INSERT INTO O_TFR
	VALUES ("3f9a5f5b-16cd-4413-ab52-7c09f7219cbd",
	"f2b8219f-1ef9-46db-986d-795339200bf5",
	'getTimespan',
	'',
	"29455544-5da7-4d59-89a1-9d1261bd2be6",
	1,
	'return self.timespan;',
	1,
	'',
	"e8d383e0-4c7e-44b4-af26-db730e1380b1");
INSERT INTO O_TFR
	VALUES ("4d966230-976d-43b1-ba5c-7c3edf99cb95",
	"f2b8219f-1ef9-46db-986d-795339200bf5",
	'getId',
	'',
	"5f77c811-d46b-4197-a574-4b3505e92410",
	1,
	'return self.id;',
	1,
	'',
	"3f9a5f5b-16cd-4413-ab52-7c09f7219cbd");
INSERT INTO O_NBATTR
	VALUES ("5fd60060-588c-4b9d-a919-ab469a67afb7",
	"f2b8219f-1ef9-46db-986d-795339200bf5");
INSERT INTO O_BATTR
	VALUES ("5fd60060-588c-4b9d-a919-ab469a67afb7",
	"f2b8219f-1ef9-46db-986d-795339200bf5");
INSERT INTO O_ATTR
	VALUES ("5fd60060-588c-4b9d-a919-ab469a67afb7",
	"f2b8219f-1ef9-46db-986d-795339200bf5",
	"00000000-0000-0000-0000-000000000000",
	'timespan',
	'',
	'',
	'timespan',
	0,
	"29455544-5da7-4d59-89a1-9d1261bd2be6",
	'',
	'');
INSERT INTO O_NBATTR
	VALUES ("5eb53b9c-3dfb-42de-bf18-63af3d0e6ec3",
	"f2b8219f-1ef9-46db-986d-795339200bf5");
INSERT INTO O_BATTR
	VALUES ("5eb53b9c-3dfb-42de-bf18-63af3d0e6ec3",
	"f2b8219f-1ef9-46db-986d-795339200bf5");
INSERT INTO O_ATTR
	VALUES ("5eb53b9c-3dfb-42de-bf18-63af3d0e6ec3",
	"f2b8219f-1ef9-46db-986d-795339200bf5",
	"5fd60060-588c-4b9d-a919-ab469a67afb7",
	'current_state',
	'',
	'',
	'current_state',
	0,
	"4e33731b-7545-47b2-bf5b-70c967e5b9be",
	'',
	'');
INSERT INTO S_DT_PROXY
	VALUES ("4e33731b-7545-47b2-bf5b-70c967e5b9be",
	"00000000-0000-0000-0000-000000000000",
	'state<State_Model>',
	'',
	'',
	'../../../../Datatypes/Datatypes.xtuml');
INSERT INTO O_NBATTR
	VALUES ("08f6b305-5b8f-4452-9765-2fe0701aa8d6",
	"f2b8219f-1ef9-46db-986d-795339200bf5");
INSERT INTO O_BATTR
	VALUES ("08f6b305-5b8f-4452-9765-2fe0701aa8d6",
	"f2b8219f-1ef9-46db-986d-795339200bf5");
INSERT INTO O_ATTR
	VALUES ("08f6b305-5b8f-4452-9765-2fe0701aa8d6",
	"f2b8219f-1ef9-46db-986d-795339200bf5",
	"5eb53b9c-3dfb-42de-bf18-63af3d0e6ec3",
	'id',
	'',
	'',
	'id',
	0,
	"5f77c811-d46b-4197-a574-4b3505e92410",
	'',
	'');
INSERT INTO O_ID
	VALUES (2,
	"f2b8219f-1ef9-46db-986d-795339200bf5");
INSERT INTO O_ID
	VALUES (1,
	"f2b8219f-1ef9-46db-986d-795339200bf5");
INSERT INTO O_ID
	VALUES (0,
	"f2b8219f-1ef9-46db-986d-795339200bf5");
INSERT INTO S_SS_PROXY
	VALUES ("f56566de-5321-4b5f-b659-95d5c01e1baa",
	'Backend',
	'',
	'',
	0,
	"02903c54-443d-4a88-aa81-181997e1d9f4",
	"00000000-0000-0000-0000-000000000000",
	'../Backend.xtuml');
