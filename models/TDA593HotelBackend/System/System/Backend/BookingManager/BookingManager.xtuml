-- BP 7.1 content: ModelClass syschar: 3 persistence-version: 7.1.5

INSERT INTO O_OBJ
	VALUES ("9626466d-b088-4240-9b9e-cc44069b9de5",
	'BookingManager',
	9,
	'BookingManager',
	'',
	"f56566de-5321-4b5f-b659-95d5c01e1baa");
INSERT INTO O_TFR
	VALUES ("a6c5dd67-f29f-4568-b043-9919e6bdf115",
	"9626466d-b088-4240-9b9e-cc44069b9de5",
	'getBookedRoomCount',
	'',
	"5f77c811-d46b-4197-a574-4b3505e92410",
	1,
	'select many bookings from instances of Booking where 
(selected.timespan.startDate <= param.timespan.endDate) and 
(selected.timespan.endDate >= param.timespan.startDate);

assign count = 0;
if(not_empty bookings)
	for each booking in bookings
		count = count+1;
	end for;
		
end if;

return count;',
	1,
	'',
	"00000000-0000-0000-0000-000000000000");
INSERT INTO O_TPARM
	VALUES ("39e1dd8a-b67e-41ee-8f40-5b1e00b26638",
	"a6c5dd67-f29f-4568-b043-9919e6bdf115",
	'timespan',
	"29455544-5da7-4d59-89a1-9d1261bd2be6",
	0,
	'',
	"00000000-0000-0000-0000-000000000000",
	'');
INSERT INTO S_DT_PROXY
	VALUES ("29455544-5da7-4d59-89a1-9d1261bd2be6",
	"00000000-0000-0000-0000-000000000000",
	'TimeSpan',
	'',
	'',
	'../../../../BackendDatatypes/BackendDatatypes.xtuml');
INSERT INTO S_DT_PROXY
	VALUES ("5f77c811-d46b-4197-a574-4b3505e92410",
	"00000000-0000-0000-0000-000000000000",
	'integer',
	'',
	'',
	'../../../../Datatypes/Datatypes.xtuml');
INSERT INTO O_TFR
	VALUES ("1949f51d-98a9-4773-bb28-18ed13310f84",
	"9626466d-b088-4240-9b9e-cc44069b9de5",
	'createBooking',
	'',
	"28114c36-aaba-4a92-b7c3-08f06e41c6a4",
	1,
	'//Kolla om creditkortet Ã¤r giltigt

	create object instance booking of Booking;
	relate booking to self across R20;
	booking.setCreditcard(creditcard: param.creditcard);
	booking.setPersonalInfo(personalInfo: param.personalInfo);
	booking.setTimespan(timespan: param.timespan);
	return true;
	LOG::LogInfo(message: "Booking was created");

	LOG::LogInfo(message: "Creditcard not valid");',
	1,
	'',
	"a6c5dd67-f29f-4568-b043-9919e6bdf115");
INSERT INTO O_TPARM
	VALUES ("96cb6c8d-3262-4295-ba31-75d676e3013e",
	"1949f51d-98a9-4773-bb28-18ed13310f84",
	'creditcard',
	"16664b58-a6dc-4ac7-9499-ba089cf98eaa",
	0,
	'',
	"00000000-0000-0000-0000-000000000000",
	'');
INSERT INTO S_DT_PROXY
	VALUES ("16664b58-a6dc-4ac7-9499-ba089cf98eaa",
	"00000000-0000-0000-0000-000000000000",
	'CreditCard',
	'',
	'',
	'../../../../BackendDatatypes/BackendDatatypes.xtuml');
INSERT INTO O_TPARM
	VALUES ("44f273be-e4e0-4415-b023-26819d8200f9",
	"1949f51d-98a9-4773-bb28-18ed13310f84",
	'personalInfo',
	"f055cc32-7fa6-4cbd-949e-0cbdc50ee8b2",
	0,
	'',
	"96cb6c8d-3262-4295-ba31-75d676e3013e",
	'');
INSERT INTO S_DT_PROXY
	VALUES ("f055cc32-7fa6-4cbd-949e-0cbdc50ee8b2",
	"00000000-0000-0000-0000-000000000000",
	'PersonalInfo',
	'',
	'',
	'../../../../BackendDatatypes/BackendDatatypes.xtuml');
INSERT INTO O_TPARM
	VALUES ("7f201c08-eaaa-4a32-919c-279a2943058a",
	"1949f51d-98a9-4773-bb28-18ed13310f84",
	'timespan',
	"29455544-5da7-4d59-89a1-9d1261bd2be6",
	0,
	'',
	"44f273be-e4e0-4415-b023-26819d8200f9",
	'');
INSERT INTO S_DT_PROXY
	VALUES ("28114c36-aaba-4a92-b7c3-08f06e41c6a4",
	"00000000-0000-0000-0000-000000000000",
	'boolean',
	'',
	'',
	'../../../../Datatypes/Datatypes.xtuml');
INSERT INTO O_ID
	VALUES (0,
	"9626466d-b088-4240-9b9e-cc44069b9de5");
INSERT INTO O_ID
	VALUES (1,
	"9626466d-b088-4240-9b9e-cc44069b9de5");
INSERT INTO O_ID
	VALUES (2,
	"9626466d-b088-4240-9b9e-cc44069b9de5");
INSERT INTO S_SS_PROXY
	VALUES ("f56566de-5321-4b5f-b659-95d5c01e1baa",
	'Backend',
	'',
	'',
	0,
	"02903c54-443d-4a88-aa81-181997e1d9f4",
	"00000000-0000-0000-0000-000000000000",
	'../Backend.xtuml');
